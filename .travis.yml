language: python
cache: pip
branches:
  only:
  - master
before_install:
- openssl aes-256-cbc -K $encrypted_42ddba2a9b3d_key -iv $encrypted_42ddba2a9b3d_iv
  -in env.tar.enc -out src/env.tar -d
- pip install awscli
- cd src && tar xvf env.tar && cd ..
install:
- pip install --target ./package -r requirements.txt
script: make
env:
  global:
  - GFG_ENV=prod
  - secure: khtUpV1DFUQptbw+tHQsF5qogeZA6r9k9FD19c5Bm12D72OA/DnMi0LJ6bk1+CSus4chjxlle+hFjWZxtXJHCYkJHNpNRfOgT70lWUPoY67wnBBBx33o8T6b+4oYOoU421RaaIVFmwzEuaCGBlAuw8IgheWrFVLIPumnlI3VZizRYNrqTJdbj1KaRg0HsYZ99EG5/66kSgp0ISwitSQ4GeUE6YGE6PUrPNLBB2uSMytL7WMrhyy8JWn4WoToGKlcRepUMXWsmbZ0x0ThuZlaGKc66wVH5TJL7hbBCKoktwh8dYdA8xU+M2DyhXrjBvyg3CYH2bmDl5QaTQKQQ/iBPmmtWYNmDczOvnErEmGYsp9fUtxEJ5KOx/Ld5bImgCTuSiiRw05/XRkTjBrvojJS21ZRBEJYAeo0wboQ9ahTX7krimqOkqJ6tsnzlWUTjcp+FenLFyEjA9mvCJ0GP+VU1KstY/Gp8Fp/vn6gSjKBEhQEgGsxrb03NoR3GsEj9JwLKrBz7vRBooCTTig2NRM4psQii2GZlsUGB7bNwV+GFgGVLzDkS7N2XAHuU9+PYHh3zaLDqAqVZxPwzSWp0KEdkQ8/HYM6cFxKBsV2hMHuhYFrF5CESeEyHi0zgeksShGnjSmZmK0A7NlaZ9+IsABV19zYZAqM417+2S7n29otO08=
  - secure: TSwfqLHNMiseys1/85oPXi1EXhmpUDNpCf5rwSP+fQ/nbyOoT1cktSep0UpMOcCZP/SDCdRDgwOTjweOqcU/PYkSdOamyVXTpf1SZrSfVCp9SrqZx6FLezwNVOW6u06fTMsmZ5cOR3yTUjvi7RBhQVvBeQl8jKGzlfZfDgR3Af2YC9RhXbCIL3+PgPSzVIPyawPxhfCouHa3elrUnKnloj+SjZLiKXBQ0iq8lZSL1ZQ/arwGf3x5QWWpdWoP72U8FarnvjIb9NkeJ36qAQGMJcP4jC/moK1tRZHuhxow3eyzseiaB3lzb7DiJ0J4GBIR7M9OghWkUqZig+7R1uMASYlqc2RI4hGhxAYSUMJMBg2ljxRDywWnA5krbLNdOj+JlAbv8sLBnrhJaA1R+TBpwNWAP9RV63VXgV5y7PLzkor+EcmY2g8LtBaTyv6M+WznCNH7JrvDckB//IeIKSSilfwXli5baEHdcwFs9KdXbtcm0gmoQ3yeR+UFlWy7HDXha1t4kQVXDz4WbNN8f1O6bLNjw6XILTM/V98VVDXCpFjI4AkwJBSAM8nR5j2AVTjs7FCdLdJkk1cm8tNLOv0hLA0NEPDxQOc0CkCXfOJMbvjlpESgYvCauSEH3sUA0FwiCQNPbacH8G/HbMHEcdpBAgH4x82D1ENY6UWF4RVHXi4=
  - secure: nLYZolQfgeHZueLrazGx0j6YVCgy2UuOPV3A9XY2jvQYpYei54t5FEW4/UkQFXrFeB9vO29p5jd5aX7Qmd8hBI3GKKOszpm9v0iI0EHANf4AnmPx+2Kaz7cBZkvoc2MVjZSApWWjY4wqibu0dUl7gyPjkbGG41H8bVCHDKWK28sFMF2N7TyjSyHc6piO5nH5cATbDDF2FJacylkrRUzm/YsQ0irQWlHt2MI3BMIPAbkVcEbY2Y67AD5sNh5XG3nKPQepAPKlHJlhlntWufS7eDgbguw87GzgZ+fxVP49r4ZUvNTYLOYSwdvhMqbVq69XklatZP73n30+1QV4rn1E2K/bMET2Y9XZNgOhr6vs2idgyke+yPT6SIt7l7mkMJQ3JaQb6vHI9QrQvgW9RTuTtt8KXso7uwkFg0gFVk3Lpf/3uFzECkF66gbFuHz29yevM2SvHfRwlMcZanDMk4rps+KFSjAUG5ozcqt5g0VzXD8iiPExFh7OAgthTbq2J/LcuOiw8B3c3Jbj+tP38+omzx3LmZCiAZPkc7HbFi8oopTj1FzZ6rs9KP8LFw5Dect6KY/lOD2isGK+ouMRvXN4uAEDEQKqbljiO1y6wOKPXC65cVNehb3cbCNCFO95VfBrTcZfPdnUYt4RIpB5lTiSyYuiGnUQWSrKPDZuVCjV0wg=
  - secure: Ag2j5B2SZtvHysF1eA83tBms4/+F1sXyMBnSfJiFU5cn3WS+1s3aH1VA8v51m8hLckdRyEOyRcXMYktW+cMiwjjp1rVM79D6N+xDAFjitEG7NlZM5ka81YXSjwPfzoZ/92cavuRacdPfYoIWw92A9sNZyUGfoiKTpPjRf+aThPDcB81YPx8cbs73V9S8n8rD+sUHhoOsaP6tQU5D8rNyWhUuCGBS6DrbkNOJZtbgjX/11LMLMtlR/Yv5sZut6iKFwwTYX7BMFukhxRjc6aE9G0Cbi0/7d82VhMfrmXHfoxkoeKijtTZcryL5NS5IIkqX15R9KHbEI+6vygZqiVOskhRL7TWThLMcclXnJGA2mGlZrk3LZrFwjuw+ntZ5PfArBr9IfFBut6Dnc5wPbFWU6HCkasxKjd2GBngnKNCf9kUKjSc9nIQL88l8azNXRf12QI88Jiw9W/ksmK9b1xHAaEBYU1dpMUUF4ld/aBYTiyt8PmSjZwOn1JQGiTVDxJhb9Mi10kPcb/3y4UCBSUcyeCLAPhoPKCU5EPGpMQ/deSVHVysJD7stf9mFt+HPLBf2SEU+3R3LA5Q8mJabZ2h/QaipFTwcql5j0SF0XtXGpg9djJc97OE0LKXtXnG+Ue9NjDdyC6v5LZiy0l09kpJEtBbfDzi4UQqNQ/o3IZM6qkw=
